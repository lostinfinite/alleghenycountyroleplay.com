<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ACRP ‚Äî Renovation in Progress</title>
  <meta name="robots" content="noindex, nofollow">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="https://cdn2.contentltd.net/acrp%20(2).png" sizes="any">
  <link rel="shortcut icon" href="https://cdn2.contentltd.net/acrp%20(2).png" type="image/png">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: url('https://cdn2.contentltd.net/banner9327.jpg') center/cover no-repeat fixed;
      background-color: rgba(0, 0, 0, 0.8);
      background-blend-mode: overlay;
      color: #ffffff;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 2rem;
    }

    .container {
      max-width: 720px;
      text-align: center;
    }

    :root { --logo-size: 120px; }
    @media (max-width: 600px) { :root { --logo-size: 90px; } }

    .logo-cycle {
      display: inline-flex;
      align-items: center;
      gap: 0;
      margin-bottom: 2.25rem;
      opacity: 0;
      animation: fadeIn 0.8s ease-out forwards;
      transition: transform 400ms ease, gap 300ms ease;
    }

    .logo-cycle .acrp-logo {
      height: var(--logo-size);
      width: auto;
    }

    .logo-cycle .x-sep {
      display: inline-block;
      font-size: calc(var(--logo-size) * 0.7);
      line-height: 1;
      font-weight: 700;
      opacity: 0;
      transform: translateX(-14px);
      transition: opacity 300ms ease, transform 300ms ease;
      user-select: none;
      pointer-events: none;
    }
    .logo-cycle:not(.active) .x-sep { display: none; }

    .logo-cycle .dept-slot {
      position: relative;
      width: 0;
      height: var(--logo-size);
      overflow: hidden;
      opacity: 0;
      transition: opacity 300ms ease, width 300ms ease;
    }

  .logo-cycle.active { transform: translateX(-20px); gap: 12px; }
  .logo-cycle.active .x-sep { opacity: 1; transform: translateX(0); }
  .logo-cycle.active .dept-slot { opacity: 1; width: var(--logo-size); }

    .logo-cycle .dept-logo {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: contain;
      transform: translateX(110%);
      opacity: 0; 
      transition: transform 500ms ease, opacity 400ms ease;
    }
    .logo-cycle .dept-logo.in { transform: translateX(0); opacity: 1; }
    .logo-cycle .dept-logo.out { transform: translateX(-120%); opacity: 0; }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    h1 {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 300;
      letter-spacing: -0.5px;
      margin-bottom: 1rem;
      opacity: 0;
      animation: fadeIn 0.8s ease-out 0.2s forwards;
    }
    #footer-container {
      display: none !important;
    }
    .subtitle {
      font-size: clamp(1rem, 2vw, 1.2rem);
      font-weight: 300;
      color: #a0a0a0;
      margin-bottom: 4rem;
      opacity: 0;
      animation: fadeIn 0.8s ease-out 0.4s forwards;
    }

    .cursor {
      display: inline-block;
      margin-left: 2px;
      width: 1ch;
      color: #ffffff;
      opacity: 0.9;
      animation: blink 1s step-start infinite;
    }

    @keyframes blink {
      50% { opacity: 0; }
    }

    @media (max-width: 768px) {
      .logo {
        width: 100px;
        margin-bottom: 2rem;
      }

      .subtitle {
        margin-bottom: 3rem;
      }
    }
  </style>
</head>
<script src="https://uptime.betterstack.com/widgets/announcement.js" data-id="227840" async="async" type="text/javascript"></script>
<body>
  <div class="container">
    <div class="logo-cycle" aria-label="ACRP and department logos">
      <img class="acrp-logo" src="https://cdn2.contentltd.net/acrp%20(2).png" alt="ACRP Logo">
      <span class="x-sep" aria-hidden="true">√ó</span>
      <div class="dept-slot" aria-hidden="true">
        <img class="dept-logo" alt="Department logo" />
      </div>
    </div>
  <h1><span id="typewriter" aria-live="polite"></span><span class="cursor" aria-hidden="true">|</span></h1>
  <p class="subtitle">We are making renovations! Check back later</p>
  
  <!-- Live Transit Test Panel -->
 
  <script>
    (function () {
      const el = document.getElementById('typewriter');
      if (!el) return;

      const phrases = [
        "We'll be right back",
        "Un momento",
        "Change is in the works..."
      ];

      let i = 0;
      let j = 0;
      let deleting = false;

      const typeSpeed = 70;
      const deleteSpeed = 45;
      const holdAtFull = 1100;
      const holdAtEmpty = 300;

      function tick() {
        const current = phrases[i];

        if (!deleting) {
          el.textContent = current.slice(0, j + 1);
          j++;
          if (j === current.length) {
            deleting = true;
            return setTimeout(tick, holdAtFull);
          }
          return setTimeout(tick, typeSpeed);
        } else {
          el.textContent = current.slice(0, j - 1);
          j--;
          if (j === 0) {
            deleting = false;
            i = (i + 1) % phrases.length;
            return setTimeout(tick, holdAtEmpty);
          }
          return setTimeout(tick, deleteSpeed);
        }
      }

      setTimeout(tick, 300);
    })();
  </script>
  <script>
    (function() {
      const cycle = document.querySelector('.logo-cycle');
      const deptImg = document.querySelector('.dept-logo');
      if (!cycle || !deptImg) return;

      const logos = [
        'https://cdn2.contentltd.net/dps/psp.png',
        'https://cdn2.contentltd.net/dps/ppd.png',
        'https://cdn2.contentltd.net/dps/pfd.png',
        'https://cdn2.contentltd.net/dps/penndot_emblem.svg',
        'https://cdn2.contentltd.net/dps/acso.png'
      ];

      const slideDuration = 500;
      const showDuration = 1800;
      const betweenDelay = 450;
      const recenterDelay = 2500;

      function runCycle() {
        cycle.classList.add('active');
        let i = 0;

        function showNext() {
          const url = logos[i];
          deptImg.classList.remove('in', 'out');
          deptImg.src = url;
          void deptImg.offsetWidth;
          deptImg.classList.add('in');

          setTimeout(() => {
            deptImg.classList.remove('in');
            deptImg.classList.add('out');

            setTimeout(() => {
              i++;
              if (i < logos.length) {
                setTimeout(showNext, betweenDelay);
              } else {
                cycle.classList.remove('active');
                deptImg.classList.remove('out');
                setTimeout(() => {
                  runCycle();
                }, recenterDelay);
              }
            }, slideDuration);
          }, showDuration);
        }

        setTimeout(showNext, 400);
      }

      setTimeout(runCycle, 1600);
    })();
  </script>
  
  <!-- Transit System Test Script -->
  <script>
    let logElement, statusElement, statusText;
    
    document.addEventListener('DOMContentLoaded', function() {
      logElement = document.getElementById('liveData');
      statusElement = document.getElementById('apiStatus');
      statusText = document.getElementById('statusText');
      
      // Start monitoring
      monitorTransitSystem();
      setInterval(monitorTransitSystem, 3000);
    });
    
    function log(message) {
      if (!logElement) return;
      const timestamp = new Date().toLocaleTimeString();
      logElement.textContent += `[${timestamp}] ${message}\n`;
      logElement.scrollTop = logElement.scrollHeight;
    }
    
    function updateStatus(status, color) {
      if (!statusElement || !statusText) return;
      statusText.textContent = status;
      statusElement.style.background = color;
    }
    
    function monitorTransitSystem() {
      try {
        const driverState = localStorage.getItem('PTA_DRIVER_STATE');
        
        if (!driverState) {
          updateStatus('No active transit data', 'rgba(128,128,128,.3)');
          return;
        }
        
        const state = JSON.parse(driverState);
        
        if (state.tripActive && state.route) {
          updateStatus(`LIVE: Route ${state.route.id} - Bus #${state.busNumber || '0000'}`, 'rgba(34,197,94,.3)');
          
          const currentStop = state.route.stops[state.currentStopIndex || 0];
          const nextStopIndex = ((state.currentStopIndex || 0) + 1) % state.route.stops.length;
          const nextStop = state.route.stops[nextStopIndex];
          
          log(`üî¥ LIVE: Route ${state.route.id} | Current: ${currentStop} | Next: ${nextStop}`);
        } else {
          updateStatus('Driver interface online but no active trip', 'rgba(245,158,11,.3)');
        }
        
      } catch (error) {
        updateStatus('Error reading transit data', 'rgba(239,68,68,.3)');
        log(`‚ùå Error: ${error.message}`);
      }
    }
    
    function testAPI() {
      log('üß™ Testing API integration...');
      
      // Test localStorage access
      try {
        const testData = { test: 'data', timestamp: Date.now() };
        localStorage.setItem('PTA_TEST', JSON.stringify(testData));
        const retrieved = localStorage.getItem('PTA_TEST');
        localStorage.removeItem('PTA_TEST');
        
        if (retrieved) {
          log('‚úÖ localStorage API access working');
        } else {
          log('‚ùå localStorage API access failed');
        }
      } catch (e) {
        log(`‚ùå localStorage error: ${e.message}`);
      }
      
      // Test plan.html integration
      if (typeof loadLiveTransitData === 'function') {
        log('‚úÖ plan.html API integration available');
      } else {
        log('‚ö†Ô∏è  plan.html API integration not loaded');
      }
      
      // Test current state
      const driverState = localStorage.getItem('PTA_DRIVER_STATE');
      if (driverState) {
        try {
          const parsed = JSON.parse(driverState);
          log(`üìä Current state: ${Object.keys(parsed).join(', ')}`);
        } catch (e) {
          log(`‚ùå State parse error: ${e.message}`);
        }
      } else {
        log('üì≠ No current driver state found');
      }
      
      log('üß™ API test complete');
    }
    
    function clearLog() {
      if (logElement) logElement.textContent = '';
      log('üóëÔ∏è  Log cleared');
    }
  </script>
  
  <script src="toasts.js"></script>
  <script src="notify.js"></script>
  <script src="snow.js"></script>
  <script src="master.js"></script>
</body>
</html>
